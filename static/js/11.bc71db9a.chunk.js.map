{"version":3,"sources":["../static/js/11.bc71db9a.chunk.js","views/eshop/MinerList/MinerList.js"],"names":["webpackJsonp","737","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","Buffer","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_reactstrap__","__WEBPACK_IMPORTED_MODULE_2__eshop__","__WEBPACK_IMPORTED_MODULE_3__conponents_AccountDialog_AccountDialog__","__WEBPACK_IMPORTED_MODULE_4__ggv_js_gegeUtil__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","MinerList","_Component","this","_this","getPrototypeOf","state","page","loadAll","channel","setState","channelName","filterOptions","action","dialogMsg","a","createElement","e","v","fee","act","deadline","_this2","list","map","res","d","Date","setTime","time","btime","toLocaleString","update","rsId","id","amount","random","ip","status","note","size","onClick","exchange","toggleActionDialog","bind","data","ok","serverPk","pk","userRandom","toDateString","nonce","getTime","toString","req","_this3","color","className","isOpen","dropdownOpen","toggle","caret","placeholder","onChange","updateHost","updatePort","startForger","hover","bordered","striped","responsive","renderExchangelist","previous","tag","prePage","active","next","nextPage"],"mappings":"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","file":"static/js/11.bc71db9a.chunk.js","sourcesContent":["webpackJsonp([11],{\n\n/***/ 737:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_reactstrap__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__eshop__ = __webpack_require__(43);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__eshop___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__eshop__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__conponents_AccountDialog_AccountDialog__ = __webpack_require__(109);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ggv_js_gegeUtil__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ggv_js_gegeUtil___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__ggv_js_gegeUtil__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var MinerList=function(_Component){_inherits(MinerList,_Component);function MinerList(props){_classCallCheck(this,MinerList);var _this=_possibleConstructorReturn(this,(MinerList.__proto__||Object.getPrototypeOf(MinerList)).call(this,props));_this.state={};return _this;}_createClass(MinerList,[{key:'prePage',value:function prePage(){this.state.page--;this.loadAll();}},{key:'nextPage',value:function nextPage(){this.state.page++;this.loadAll();}},{key:'setFilter',value:function setFilter(channel){this.setState({channel:channel,channelName:this.filterOptions[channel]});}},{key:'toggleActionDialog',value:function toggleActionDialog(){this.setState({action:!this.state.action,dialogMsg:''});}},{key:'renderdialogMsg',value:function renderdialogMsg(){if(this.state.dialogMsg){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"x\" /* Label */],null,this.state.dialogMsg);}return null;}},{key:'updateFee',value:function updateFee(e){if(e&&e.target){var v=e.target.value;if(v&&v.length>0)this.fee=v;}}},{key:'updateDeadline',value:function updateDeadline(e){if(e&&e.target){var act=e.target.value;this.deadline=act;}}},{key:'renderExchangelist',value:function renderExchangelist(){var _this2=this;var list=this.state.list;if(!list)return null;var content=list.map(function(res){var d=new Date();d.setTime(res.time);var btime=d.toLocaleString();//\nd.setTime(res.update);var update=d.toLocaleString();return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('tr',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('td',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__conponents_AccountDialog_AccountDialog__[\"a\" /* default */],{rsId:res.id})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('td',null,res.amount,' BTB'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('td',null,res.random,' \\u5143'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('td',null,res.channel),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('td',null,res.ip),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('td',null,btime),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('td',null,update),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('td',null,Object(__WEBPACK_IMPORTED_MODULE_2__eshop__[\"getExchangeStatus\"])(res.status)),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('td',null,res.note),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('td',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"e\" /* Button */],{size:'sm',onClick:function(e){_this2.setState({exchange:res});_this2.toggleActionDialog();}.bind(_this2)},'\\u64CD\\u4F5C')));});return content;}},{key:'updateHost',value:function updateHost(){}},{key:'updatePort',value:function updatePort(){}},{key:'startForger',value:function startForger(){var userSecret='this is a user sec.';var data={action:'getpk'};Object(__WEBPACK_IMPORTED_MODULE_2__eshop__[\"bshopCall\"])(data,function(ok,data){if(ok&&data){var serverPk=data.pk;var userRandom='www.bsh0pping.cc'+new Date().toDateString();var nonce=new Date().getTime();var key=Object(__WEBPACK_IMPORTED_MODULE_2__eshop__[\"shareEncrypt\"])(userRandom,serverPk,nonce,userSecret);var pk=Object(__WEBPACK_IMPORTED_MODULE_4__ggv_js_gegeUtil__[\"getPublicKey\"])(userRandom);pk=new Buffer(pk).toString('hex');key=new Buffer(key,'base64').toString('hex');var req={action:'forge',key:key,pk:pk,nonce:nonce+''};Object(__WEBPACK_IMPORTED_MODULE_2__eshop__[\"bshopCall\"])(req,function(ok,data){});}}.bind(this));}},{key:'render',value:function render(){var _this3=this;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"g\" /* Card */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"h\" /* CardBody */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"e\" /* Button */],{color:'primary',onClick:function onClick(e){return _this3.loadAll();}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{className:'fa fa-search'}),'\\u663E\\u793A\\u5168\\u90E8'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"u\" /* InputGroup */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"f\" /* ButtonDropdown */],{isOpen:this.state.dropdownOpen,toggle:function toggle(){_this3.toggle();}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"q\" /* DropdownToggle */],{caret:true},this.state.channelName),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"p\" /* DropdownMenu */],null)),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"t\" /* Input */],{placeholder:'host',onChange:this.updateHost.bind(this)}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"t\" /* Input */],{placeholder:'port',onChange:this.updatePort.bind(this)}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"e\" /* Button */],{color:'primary',onClick:function onClick(e){return _this3.startForger();}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{className:'fa fa-search'}),'\\xA0')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"T\" /* Table */],{hover:true,bordered:true,striped:true,responsive:true,size:'sm'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('thead',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('tr',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('th',null,'ID'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('th',null,'Amount(\\u91D1\\u989D)'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('th',null,'\\u968F\\u673A\\u91D1\\u989D(\\u91D1\\u989D)'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('th',null,'Channel(\\u6E20\\u9053)'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('th',null,'Ip\\u5730\\u5740'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('th',null,'Time(\\u7533\\u8BF7\\u65F6\\u95F4)'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('th',null,'Update(\\u66F4\\u65B0\\u65F6\\u95F4)'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('th',null,'Status(\\u6700\\u65B0\\u72B6\\u6001)'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('th',null,'Note(\\u5907\\u6CE8)'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('th',null,'Action(\\u64CD\\u4F5C)'))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('tbody',null,this.renderExchangelist())),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('nav',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"J\" /* Pagination */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"K\" /* PaginationItem */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"L\" /* PaginationLink */],{previous:true,tag:'button',onClick:function onClick(e){_this3.prePage();}},'Prev(\\u4E0A\\u4E00\\u9875)')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"K\" /* PaginationItem */],{active:true},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"L\" /* PaginationLink */],{tag:'button'},this.state.page)),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"K\" /* PaginationItem */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_reactstrap__[\"L\" /* PaginationLink */],{next:true,tag:'button',onClick:function onClick(e){_this3.nextPage();}},'Next(\\u4E0B\\u4E00\\u9875)'))))));}}]);return MinerList;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"default\"] = (MinerList);\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(2).Buffer))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/11.bc71db9a.chunk.js","import React, { Component } from 'react';\r\nimport { Badge, Card, CardBody, CardHeader, Col, Pagination, PaginationItem, PaginationLink, Row, Table } from 'reactstrap';\r\nimport { Button, Input, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap';\r\nimport { CardGroup, Container, Form, FormGroup, Fade, Collapse, Label } from 'reactstrap'\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader, ButtonDropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap'\r\nimport { shareEncrypt, bshopCall, getExchangeStatus } from '../eshop'\r\nimport AccountDialog from '../../conponents/AccountDialog/AccountDialog'\r\nimport { getPublicKey } from '../../ggv/js/gegeUtil'\r\nclass MinerList extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {}\r\n  }\r\n\r\n  prePage() {\r\n    this.state.page--\r\n    this.loadAll()\r\n  }\r\n\r\n  nextPage() {\r\n    this.state.page++\r\n    this.loadAll()\r\n  }\r\n\r\n  setFilter(channel) {\r\n    this.setState({ channel: channel, channelName: this.filterOptions[channel] })\r\n  }\r\n\r\n  toggleActionDialog() {\r\n    this.setState({ action: !this.state.action, dialogMsg: '' })\r\n  }\r\n\r\n\r\n  renderdialogMsg() {\r\n    if (this.state.dialogMsg) {\r\n      return (<Label>{this.state.dialogMsg}</Label>)\r\n    }\r\n    return null;\r\n  }\r\n\r\n  updateFee(e) {\r\n    if (e && e.target) {\r\n      let v = e.target.value;\r\n      if (v && v.length > 0)\r\n        this.fee = v;\r\n    }\r\n  }\r\n  updateDeadline(e) {\r\n    if (e && e.target) {\r\n      let act = e.target.value;\r\n      this.deadline = act;\r\n    }\r\n  }\r\n\r\n  renderExchangelist() {\r\n    let list = this.state.list;\r\n    if (!list)\r\n      return null;\r\n    let content = list.map((res) => {\r\n      let d = new Date();\r\n      d.setTime(res.time)\r\n      let btime = d.toLocaleString()\r\n      //\r\n      d.setTime(res.update)\r\n      let update = d.toLocaleString()\r\n      return (<tr>\r\n        <td><AccountDialog rsId={res.id} /></td>\r\n        <td>{res.amount} BTB</td>\r\n        <td>{res.random} 元</td>\r\n        <td>{res.channel}</td>\r\n        <td>{res.ip}</td>\r\n        <td>{btime}</td>\r\n        <td>{update}</td>\r\n        <td>{getExchangeStatus(res.status)}</td>\r\n        <td>{res.note}</td>\r\n        <td><Button size='sm' onClick={((e) => {\r\n          this.setState({ exchange: res })\r\n          this.toggleActionDialog()\r\n        }).bind(this)}>操作</Button></td>\r\n      </tr>)\r\n    });\r\n\r\n    return content;\r\n  }\r\n\r\n  updateHost() {\r\n\r\n  }\r\n  updatePort() {\r\n\r\n  }\r\n\r\n  startForger() {\r\n    let userSecret = 'this is a user sec.';\r\n    let data = { action: 'getpk' }\r\n    bshopCall(data, ((ok, data) => {\r\n      if (ok && data) {\r\n        let serverPk = data.pk;\r\n        let userRandom = 'www.bsh0pping.cc' + new Date().toDateString();\r\n        let nonce = new Date().getTime()\r\n        let key = shareEncrypt(userRandom, serverPk, nonce, userSecret);\r\n        let pk = getPublicKey(userRandom);\r\n        pk = new Buffer(pk).toString('hex')\r\n        key = new Buffer(key,'base64').toString('hex')\r\n        let req = { action: 'forge', key, pk, nonce : nonce + '' };\r\n        bshopCall(req, (ok, data) => {\r\n\r\n        })\r\n      }\r\n    }).bind(this))\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Card>\r\n        <CardBody>\r\n          <Button color=\"primary\" onClick={(e) => this.loadAll()}>\r\n            <i className=\"fa fa-search\"></i>显示全部\r\n                </Button>\r\n          <InputGroup>\r\n            <ButtonDropdown isOpen={this.state.dropdownOpen} toggle={() => { this.toggle(); }}>\r\n              <DropdownToggle caret>\r\n                {this.state.channelName}\r\n              </DropdownToggle>\r\n              <DropdownMenu>\r\n              </DropdownMenu>\r\n            </ButtonDropdown>\r\n            <Input placeholder='host' onChange={this.updateHost.bind(this)} />\r\n            <Input placeholder='port' onChange={this.updatePort.bind(this)} />\r\n            <Button color=\"primary\" onClick={(e) => this.startForger()}>\r\n              <i className=\"fa fa-search\"></i>&nbsp;\r\n                </Button>\r\n          </InputGroup>\r\n          <Table hover bordered striped responsive size=\"sm\">\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Amount(金额)</th>\r\n                <th>随机金额(金额)</th>\r\n                <th>Channel(渠道)</th>\r\n                <th>Ip地址</th>\r\n                <th>Time(申请时间)</th>\r\n                <th>Update(更新时间)</th>\r\n                <th>Status(最新状态)</th>\r\n                <th>Note(备注)</th>\r\n                <th>Action(操作)</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.renderExchangelist()}\r\n            </tbody>\r\n          </Table>\r\n          <nav>\r\n            <Pagination>\r\n              <PaginationItem><PaginationLink previous tag=\"button\" onClick={(e) => { this.prePage() }}>Prev(上一页)</PaginationLink></PaginationItem>\r\n              <PaginationItem active>\r\n                <PaginationLink tag=\"button\">{this.state.page}</PaginationLink>\r\n              </PaginationItem>\r\n              <PaginationItem><PaginationLink next tag=\"button\" onClick={(e) => { this.nextPage() }}>Next(下一页)</PaginationLink></PaginationItem>\r\n            </Pagination>\r\n          </nav>\r\n        </CardBody>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MinerList;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/eshop/MinerList/MinerList.js"],"sourceRoot":""}
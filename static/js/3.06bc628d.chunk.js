webpackJsonp([3],{727:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n.n(o),c=n(8),s=n(32),u=(n.n(s),n(267)),d=n(855),p=(n.n(d),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),m=(n(42),n(17)),h=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.page=1,n.state={list:[],page:1,count:0,paying:!1,fee:"1",deadline:"5"},n}return l(t,e),p(t,[{key:"componentDidMount",value:function(){var e=this,t=Object(s.loadLocalAccount)();t&&t.secret&&(this.secret=t.secret),this.setState({account:t});var n=window.location.hash,a=null,r=null;if(n){var l=n.indexOf("#",1);if(l>0){var o=n.substr(l+42,1);r=n.substr(l+42),r=decodeURIComponent(r),r&&this.setState({title:r,needPay:o}),a=n.substr(l+1,40),l=a.indexOf("#",1),l>0&&(a=a.substr(0,l))}}setTimeout(function(){var t=null;!t&&e.state.account&&(t=e.state.account.peerId),t?e.isTempPeerId(t)&&e.setState({peerId:null}):(t=e.createTempPeerId(),e.setState({peerId:t}));var n=setTimeout(function(){e.loadIframe(t,a),e.setState({iframe:!0})},8e3);a&&Object(s.startPlayer)(t,{id:a},function(){clearTimeout(n)})}.bind(this),500)}},{key:"loadIframe",value:function(e,t){var n=document.querySelector("#iframe"),a="http://download.btbresource.com:18080/files/"+e+"/"+t+".html";n.innerHTML="<iframe width='100%' height='100%' frameborder='0' name='_blank' src='"+a+"' />"}},{key:"isTempPeerId",value:function(e){return e&&e.startsWith("0000")}},{key:"createTempPeerId",value:function(){return"0000"+m(18).toString("hex")}},{key:"togglePurchase",value:function(){this.setState({paying:!this.state.paying})}},{key:"doPurchase",value:function(){}},{key:"renderPurchaseDialog",value:function(){var e=this;return i.a.createElement(c.C,{isOpen:this.state.paying,toggle:this.togglePurchase.bind(this),className:"modal-info "+this.props.className},i.a.createElement(c.F,{toggle:this.togglePurchase.bind(this)},"\u652f\u4ed8\u670b\u53cb\u5708\u4fe1\u606f"),i.a.createElement(c.D,null,i.a.createElement(c.s,null,i.a.createElement("div",{className:"controls"},i.a.createElement(c.u,{className:"input-prepend"},i.a.createElement(c.v,{addonType:"prepend"},i.a.createElement(c.w,null,this.state.title))))),i.a.createElement(c.s,null,i.a.createElement("div",{className:"controls"},i.a.createElement(c.u,{className:"input-prepend"},i.a.createElement(c.v,{addonType:"prepend"},i.a.createElement(c.w,null,"Price(\u4ef7\u683c):")),i.a.createElement(c.t,{id:"appendedPrependedInput",size:"16",type:"text",value:1}),i.a.createElement(c.v,{addonType:"append"},i.a.createElement(c.w,null,"BTB"))))),i.a.createElement(c.s,null,i.a.createElement("div",{className:"controls"},i.a.createElement(c.u,{className:"input-prepend"},i.a.createElement(c.v,{addonType:"prepend"},i.a.createElement(c.w,null,i.a.createElement(u.a,{id:"min123",text:"Fee(\u77ff\u5de5\u624b\u7eed\u8d39):",content:"\u533a\u5757\u94fe\u77ff\u5de5\u4e3a\u8d26\u6237\u4f59\u989d\u6bd4\u8f83\u591a\u7684BTB\u8d26\u6237\u968f\u673a\u4ea7\u751f\uff0c\u8d1f\u8d23\u9a8c\u8bc1\u6240\u6709\u4ea4\u6613\u662f\u5426\u7b26\u5408\u89c4\u5219,\u5e76\u5c06\u5408\u6cd5\u4ea4\u6613\u4fdd\u5b58\u5230\u533a\u5757\u94fe\u3002\u77ff\u5de5\u4fdd\u8bc1\u6574\u4e2a\u7cfb\u7edf\u6309\u7167\u89c4\u5219\u8fd0\u884c\u3002\u540c\u65f6\u83b7\u5f97\u4ea4\u6613\u624b\u7eed\u8d39\u3002"}))),i.a.createElement(c.t,{id:"appendedPrependedInput",size:"16",type:"text",onChange:function(t){return e.setState({fee:t})},placeholder:"miner Fee \u533a\u5757\u94fe\u77ff\u5de5\u8d39\uff0c\u6700\u5c111\u4e2a"}),i.a.createElement(c.v,{addonType:"append"},i.a.createElement(c.w,null,"BTB"))))),i.a.createElement(c.s,null,i.a.createElement("div",{className:"controls"},i.a.createElement(c.u,{className:"input-prepend"},i.a.createElement(c.v,{addonType:"prepend"},i.a.createElement(c.w,null,i.a.createElement(u.a,{id:"dl4545",text:"Deadline(\u6709\u6548\u671f):",content:"\u77ff\u5de5\u9a8c\u8bc1\u4ea4\u6613\u65f6\u5019\u4f1a\u6309\u624b\u7eed\u8d39\u9ad8\u4f4e\u6392\u5e8f\u5904\u7406\uff0c\u6709\u6548\u671f\u5185\u672a\u88ab\u5904\u7406\u7684\u4ea4\u6613\u4f1a\u88ab\u820d\u5f03\u3002\u4ea4\u6613\u4f5c\u5e9f\u3002"}))),i.a.createElement(c.t,{id:"appendedPrependedInput",size:"16",onChange:function(t){return e.setState({deadline:t})},type:"text",placeholder:"\u4ea4\u6613\u6709\u6548\u671f\uff0c\u9ed8\u8ba45\u5206\u949f"}),i.a.createElement(c.v,{addonType:"append"},i.a.createElement(c.w,null,"minutes(\u5206\u949f)"))))),i.a.createElement("div",null,i.a.createElement("p",null,this.state.purchaseMsg)),i.a.createElement("div",{className:"form-actions"},i.a.createElement(c.e,{type:"submit",color:"primary",onClick:function(t){return e.doPurchase()}},"Pay(\u8d2d\u4e70)"),i.a.createElement(c.e,{color:"secondary",onClick:function(t){return e.togglePurchase()}},"Cancel(\u53d6\u6d88)"))))}},{key:"renderPayButton",value:function(){return 0==this.state.needPay?null:i.a.createElement(c.a,{color:"primary"},"\u975e\u514d\u8d39\u670b\u53cb\u5708\u4fe1\u606f\u9700\u8981\u652f\u4ed8\u540e\u624d\u53ef\u4ee5\u67e5\u770b\u5168\u90e8\u5185\u5bb9\u3002  ",i.a.createElement("a",{href:"https://github.com/btbresource/btb-android"},"\u70b9\u51fb\u4e0b\u8f7d\u5b89\u5353\u5ba2\u6237\u7aef\u652f\u4ed8")," ")}},{key:"renderIframe",value:function(){return i.a.createElement("div",{id:"iframe",style:{width:"100%"}})}},{key:"renderPlayer",value:function(){return this.state.iframe?null:i.a.createElement("div",null,i.a.createElement("div",{id:"status"},i.a.createElement("div",null,i.a.createElement("code",{id:"numPeers"},"0 peers(\u8282\u70b9)"),".",i.a.createElement("code",{id:"downloadSpeed"},"0 b/s ")," / \u2197",i.a.createElement("code",{id:"uploadSpeed"},"0 b/s - "),i.a.createElement("code",{id:"downloaded"})," of",i.a.createElement("code",{id:"total"})," \u2014",i.a.createElement("span",{id:"remaining"}))),i.a.createElement("div",{id:"player",style:{width:"100%"}}))}},{key:"render",value:function(){return i.a.createElement("div",{id:"playdiv"},i.a.createElement(c.g,null,i.a.createElement(c.j,null,this.renderPayButton(),this.renderPurchaseDialog(),this.state.title),i.a.createElement(c.h,null,this.renderPlayer(),this.renderIframe())))}}]),t}(o.Component);!function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggle=n.toggle.bind(n),n.state={popoverOpen:!1},n}l(t,e),p(t,[{key:"toggle",value:function(){this.setState({popoverOpen:!this.state.popoverOpen})}},{key:"render",value:function(){return i.a.createElement("span",null,i.a.createElement("span",{className:"alert-primary  fade show",id:"Popover-"+this.props.id,onClick:this.toggle},"Share Link(\u5206\u4eab\u94fe\u63a5)"),i.a.createElement(c.M,{placement:"top",isOpen:this.state.popoverOpen,target:"Popover-"+this.props.id,toggle:this.toggle},i.a.createElement(c.O,null,"Share Link(\u5206\u4eab\u8fd9\u4e2a\u8d44\u6e90\u7684\u94fe\u63a5)"),i.a.createElement(c.N,null,Object(s.getCurrentHost)()+"/#/btb#"+this.props.res.id)))}}])}(o.Component);t.default=h},855:function(e,t,n){var a=n(856);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!1};r.transform=void 0;n(722)(a,r);a.locals&&(e.exports=a.locals)},856:function(e,t,n){t=e.exports=n(721)(!0),t.push([e.i,"iframe{width:100%;height:600px;border:1px solid #000}","",{version:3,sources:["D:/working_dir_webtorrent/gege-portal/src/views/ggv/NewsWeb/style.css"],names:[],mappings:"AAAA,OACI,WAAY,AACX,aAAc,AACd,qBAA0B,CAC5B",file:"style.css",sourcesContent:["iframe {\r\n    width: 100%;\r\n     height: 600px;\r\n     border: 1px solid #000000;\r\n  }"],sourceRoot:""}])}});
//# sourceMappingURL=3.06bc628d.chunk.js.map